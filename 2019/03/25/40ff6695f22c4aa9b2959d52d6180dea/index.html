<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ytianxia6.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Edit 项目总结-wpf 使用经验刚做完一个使用了 wpf 技术的项目，总结一下项目中使用到的一些以前没用过的技术 DataGrid 过滤nuget 库 DataGridExtensions 提供了自定义扩展 DataGrid 列过滤的方法 根据例子中的 MultipleChoiceFilter 可以自定义任意过滤。我的日期过滤控件： 123456789101112131415161718192">
<meta property="og:type" content="article">
<meta property="og:title" content="项目总结-wpf 使用经验">
<meta property="og:url" content="http://ytianxia6.github.io/2019/03/25/40ff6695f22c4aa9b2959d52d6180dea/index.html">
<meta property="og:site_name" content="Haroon的个人博客">
<meta property="og:description" content="Edit 项目总结-wpf 使用经验刚做完一个使用了 wpf 技术的项目，总结一下项目中使用到的一些以前没用过的技术 DataGrid 过滤nuget 库 DataGridExtensions 提供了自定义扩展 DataGrid 列过滤的方法 根据例子中的 MultipleChoiceFilter 可以自定义任意过滤。我的日期过滤控件： 123456789101112131415161718192">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-03-25T21:29:24.000Z">
<meta property="article:modified_time" content="2019-03-25T21:38:12.000Z">
<meta property="article:author" content="yhl">
<meta property="article:tag" content="随笔">
<meta property="article:tag" content="wpf">
<meta property="article:tag" content=".net">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://ytianxia6.github.io/2019/03/25/40ff6695f22c4aa9b2959d52d6180dea/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>项目总结-wpf 使用经验 | Haroon的个人博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Haroon的个人博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">没人管的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ytianxia6.github.io/2019/03/25/40ff6695f22c4aa9b2959d52d6180dea/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhl">
      <meta itemprop="description" content="记录作者的一些历程，很杂乱，涉及很广...我也不知道我会什么">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haroon的个人博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          项目总结-wpf 使用经验
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2019-03-26 05:29:24 / 修改时间：05:38:12" itemprop="dateCreated datePublished" datetime="2019-03-26T05:29:24+08:00">2019-03-26</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><s><a target="_blank" rel="noopener" href="http://maxiang.io/#/?provider=evernote&guid=8ecc61fa-e2c6-424b-9253-b95383666b5e&notebook=blog">Edit</a></s></p>
<h1 id="项目总结-wpf-使用经验"><a href="#项目总结-wpf-使用经验" class="headerlink" title="项目总结-wpf 使用经验"></a>项目总结-wpf 使用经验</h1><p>刚做完一个使用了 wpf 技术的项目，总结一下项目中使用到的一些以前没用过的技术</p>
<h1 id="DataGrid-过滤"><a href="#DataGrid-过滤" class="headerlink" title="DataGrid 过滤"></a>DataGrid 过滤</h1><p>nuget 库 <a target="_blank" rel="noopener" href="https://github.com/tom-englert/DataGridExtensions">DataGridExtensions</a> 提供了自定义扩展 DataGrid 列过滤的方法</p>
<p>根据例子中的 MultipleChoiceFilter 可以自定义任意过滤。<br>我的日期过滤控件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">// xaml:</span><br><span class="line"></span><br><span class="line">&lt;Control x:Class=&quot;readLog.Views.Filters.DateFilter&quot;</span><br><span class="line"></span><br><span class="line">         x:Name=&quot;Control&quot;</span><br><span class="line"></span><br><span class="line">             xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span><br><span class="line"></span><br><span class="line">             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span><br><span class="line"></span><br><span class="line">             xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span><br><span class="line"></span><br><span class="line">             xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span><br><span class="line"></span><br><span class="line">             xmlns:local=&quot;clr-namespace:readLog.Views.Filters&quot;</span><br><span class="line"></span><br><span class="line">             xmlns:dgx=&quot;urn:tom-englert.de/DataGridExtensions&quot;</span><br><span class="line"></span><br><span class="line">             xmlns:sys=&quot;clr-namespace:System;assembly=mscorlib&quot;</span><br><span class="line"></span><br><span class="line">             mc:Ignorable=&quot;d&quot;</span><br><span class="line"></span><br><span class="line">             d:DesignHeight=&quot;30&quot; d:DesignWidth=&quot;30&quot;</span><br><span class="line"></span><br><span class="line">         &gt;</span><br><span class="line"></span><br><span class="line">    &lt;Control.Resources&gt;</span><br><span class="line"></span><br><span class="line">        &lt;ObjectDataProvider x:Key=&quot;dateTypeEnum&quot; MethodName=&quot;GetValues&quot;</span><br><span class="line"></span><br><span class="line">                            ObjectType=&quot;&#123;x:Type sys:Enum&#125;&quot;&gt;</span><br><span class="line"></span><br><span class="line">            &lt;ObjectDataProvider.MethodParameters&gt;</span><br><span class="line"></span><br><span class="line">                &lt;x:Type TypeName=&quot;local:DateFilterType&quot;&gt;&lt;/x:Type&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/ObjectDataProvider.MethodParameters&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/ObjectDataProvider&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/Control.Resources&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Control.Template&gt;</span><br><span class="line"></span><br><span class="line">        &lt;ControlTemplate&gt;</span><br><span class="line"></span><br><span class="line">            &lt;Grid&gt;</span><br><span class="line"></span><br><span class="line">                &lt;ToggleButton x:Name=&quot;ToggleButton&quot;&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;TextBlock x:Name=&quot;IsFilterActiveMarker&quot; Text=&quot;.&quot; Margin=&quot;0,0,-4,0&quot; Foreground=&quot;&#123;Binding ElementName=FilterSymbol, Path=Foreground&#125;&quot; FontWeight=&quot;Bold&quot; /&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;Control x:Name=&quot;FilterSymbol&quot; Style=&quot;&#123;DynamicResource &#123;x:Static dgx:DataGridFilter.IconStyleKey&#125;&#125;&quot; /&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;/StackPanel&gt;</span><br><span class="line"></span><br><span class="line">                &lt;/ToggleButton&gt;</span><br><span class="line"></span><br><span class="line">                &lt;Popup</span><br><span class="line"></span><br><span class="line">                    DataContext=&quot;&#123;Binding ElementName=Control&#125;&quot;</span><br><span class="line"></span><br><span class="line">                       x:Name=&quot;Popup&quot; IsOpen=&quot;&#123;Binding Path=IsChecked, ElementName=ToggleButton, Mode=TwoWay&#125;&quot;</span><br><span class="line"></span><br><span class="line">                       AllowsTransparency=&quot;True&quot; StaysOpen=&quot;False&quot;&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;StackPanel&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;ComboBox x:Name=&quot;typeBox&quot;</span><br><span class="line"></span><br><span class="line">                                  ItemsSource=&quot;&#123;Binding Source=&#123;StaticResource dateTypeEnum&#125;&#125;&quot;</span><br><span class="line"></span><br><span class="line">                                  SelectedItem=&quot;&#123;Binding Path=FilterType&#125;&quot;/&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;DatePicker x:Name=&quot;begTm&quot;</span><br><span class="line"></span><br><span class="line">                                    Visibility=&quot;&#123;Binding Path=BeginTimeVisible&#125;&quot;</span><br><span class="line"></span><br><span class="line">                                    SelectedDate=&quot;&#123;Binding Path=BeginTime&#125;&quot;</span><br><span class="line"></span><br><span class="line">                                    /&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;DatePicker x:Name=&quot;endTm&quot;</span><br><span class="line"></span><br><span class="line">                                    Visibility=&quot;&#123;Binding Path=EndTimeVisible&#125;&quot;</span><br><span class="line"></span><br><span class="line">                                    SelectedDate=&quot;&#123;Binding Path=EndTime&#125;&quot;</span><br><span class="line"></span><br><span class="line">                        /&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;/StackPanel&gt;</span><br><span class="line"></span><br><span class="line">                &lt;/Popup&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/Grid&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/ControlTemplate&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/Control.Template&gt;</span><br><span class="line"></span><br><span class="line">&lt;/Control&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br></pre></td><td class="code"><pre><span class="line">// 交互</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line"></span><br><span class="line">    /// DateFilter.xaml 的交互逻辑</span><br><span class="line"></span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line"></span><br><span class="line">    public partial class DateFilter : Control</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        public DateFilter()</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            InitializeComponent();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #region dependency property</span><br><span class="line"></span><br><span class="line">        public static readonly DependencyProperty FilterTypeProperty = DependencyProperty.Register(</span><br><span class="line"></span><br><span class="line">            &quot;FilterType&quot;, typeof(DateFilterType), typeof(DateFilter),</span><br><span class="line"></span><br><span class="line">            new FrameworkPropertyMetadata(default(DateFilterType), FrameworkPropertyMetadataOptions.BindsTwoWayByDefault, (s, e) =&gt; ((DateFilter)s).FilterTypeChange()));</span><br><span class="line"></span><br><span class="line">        private void FilterTypeChange()</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            // 可见性</span><br><span class="line"></span><br><span class="line">            switch (FilterType)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                case DateFilterType.All:</span><br><span class="line"></span><br><span class="line">                case DateFilterType.ThisYear:</span><br><span class="line"></span><br><span class="line">                case DateFilterType.ThisMonth:</span><br><span class="line"></span><br><span class="line">                case DateFilterType.PreYear:</span><br><span class="line"></span><br><span class="line">                case DateFilterType.PreMonth:</span><br><span class="line"></span><br><span class="line">                    BeginTimeVisible = Visibility.Collapsed;</span><br><span class="line"></span><br><span class="line">                    EndTimeVisible = Visibility.Collapsed;</span><br><span class="line"></span><br><span class="line">                    break;</span><br><span class="line"></span><br><span class="line">                case DateFilterType.Earlier:</span><br><span class="line"></span><br><span class="line">                    BeginTimeVisible = Visibility.Collapsed;</span><br><span class="line"></span><br><span class="line">                    EndTimeVisible = Visibility.Visible;</span><br><span class="line"></span><br><span class="line">                    break;</span><br><span class="line"></span><br><span class="line">                case DateFilterType.Later:</span><br><span class="line"></span><br><span class="line">                    BeginTimeVisible = Visibility.Visible;</span><br><span class="line"></span><br><span class="line">                    EndTimeVisible = Visibility.Collapsed;</span><br><span class="line"></span><br><span class="line">                    break;</span><br><span class="line"></span><br><span class="line">                case DateFilterType.Between:</span><br><span class="line"></span><br><span class="line">                    BeginTimeVisible = Visibility.Visible;</span><br><span class="line"></span><br><span class="line">                    EndTimeVisible = Visibility.Visible;</span><br><span class="line"></span><br><span class="line">                    break;</span><br><span class="line"></span><br><span class="line">                default:</span><br><span class="line"></span><br><span class="line">                    throw new ArgumentOutOfRangeException();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            RangeChanged();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private void RangeChanged()</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            Filter = new ContentFilter(FilterType, BeginTime, EndTime);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public DateFilterType FilterType</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            get =&gt; (DateFilterType) GetValue(FilterTypeProperty);</span><br><span class="line"></span><br><span class="line">            set =&gt; SetValue(FilterTypeProperty, value);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static readonly DependencyProperty FilterProperty = DependencyProperty.Register(</span><br><span class="line"></span><br><span class="line">            &quot;Filter&quot;, typeof(ContentFilter), typeof(DateFilter),</span><br><span class="line"></span><br><span class="line">            new FrameworkPropertyMetadata(default(ContentFilter), FrameworkPropertyMetadataOptions.BindsTwoWayByDefault, (s, e) =&gt; ((DateFilter)s).FilterChanged()));</span><br><span class="line"></span><br><span class="line">        public ContentFilter Filter</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            get =&gt; (ContentFilter) GetValue(FilterProperty);</span><br><span class="line"></span><br><span class="line">            set =&gt; SetValue(FilterProperty, value);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private void FilterChanged()</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            var filter = Filter as ContentFilter;</span><br><span class="line"></span><br><span class="line">            if (null == filter)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                return;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            FilterType = filter.FilterType;</span><br><span class="line"></span><br><span class="line">            BeginTime = filter.BeginTime;</span><br><span class="line"></span><br><span class="line">            EndTime = filter.EndTime;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static readonly DependencyProperty BeginTimeProperty = DependencyProperty.Register(</span><br><span class="line"></span><br><span class="line">            &quot;BeginTime&quot;, typeof(DateTime), typeof(DateFilter),</span><br><span class="line"></span><br><span class="line">            new FrameworkPropertyMetadata(DateTime.Today, FrameworkPropertyMetadataOptions.BindsTwoWayByDefault,(s, e) =&gt; ((DateFilter)s).RangeChanged()));</span><br><span class="line"></span><br><span class="line">        public DateTime BeginTime</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            get =&gt; (DateTime) GetValue(BeginTimeProperty);</span><br><span class="line"></span><br><span class="line">            set =&gt; SetValue(BeginTimeProperty, value);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static readonly DependencyProperty EndTimeProperty = DependencyProperty.Register(</span><br><span class="line"></span><br><span class="line">            &quot;EndTime&quot;, typeof(DateTime), typeof(DateFilter),</span><br><span class="line"></span><br><span class="line">            new FrameworkPropertyMetadata(DateTime.Today, FrameworkPropertyMetadataOptions.BindsTwoWayByDefault,(s, e) =&gt; ((DateFilter)s).RangeChanged()));</span><br><span class="line"></span><br><span class="line">        public DateTime EndTime</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            get =&gt; (DateTime) GetValue(EndTimeProperty);</span><br><span class="line"></span><br><span class="line">            set =&gt; SetValue(EndTimeProperty, value);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static readonly DependencyProperty PropertyTypeProperty = DependencyProperty.Register(</span><br><span class="line"></span><br><span class="line">            &quot;BeginTimeVisible&quot;, typeof(Visibility), typeof(DateFilter),</span><br><span class="line"></span><br><span class="line">            new FrameworkPropertyMetadata(Visibility.Collapsed, FrameworkPropertyMetadataOptions.BindsTwoWayByDefault, (s, e) =&gt; ((DateFilter)s).RangeChanged()));</span><br><span class="line"></span><br><span class="line">        public Visibility BeginTimeVisible</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            get =&gt; (Visibility) GetValue(PropertyTypeProperty);</span><br><span class="line"></span><br><span class="line">            set =&gt; SetValue(PropertyTypeProperty, value);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static readonly DependencyProperty EndTimeVisibleProperty = DependencyProperty.Register(</span><br><span class="line"></span><br><span class="line">            &quot;EndTimeVisible&quot;, typeof(Visibility), typeof(DateFilter),</span><br><span class="line"></span><br><span class="line">            new FrameworkPropertyMetadata(Visibility.Collapsed, FrameworkPropertyMetadataOptions.BindsTwoWayByDefault, (s, e) =&gt; ((DateFilter)s).RangeChanged()));</span><br><span class="line"></span><br><span class="line">        public Visibility EndTimeVisible</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            get =&gt; (Visibility) GetValue(EndTimeVisibleProperty);</span><br><span class="line"></span><br><span class="line">            set =&gt; SetValue(EndTimeVisibleProperty, value);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #endregion</span><br><span class="line"></span><br><span class="line">        public class ContentFilter : IContentFilter</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            public ContentFilter(DateFilterType type, DateTime beg, DateTime end)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                FilterType = type;</span><br><span class="line"></span><br><span class="line">                BeginTime = beg;</span><br><span class="line"></span><br><span class="line">                EndTime = end;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            public bool IsMatch(object value)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                if (null == value)</span><br><span class="line"></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    return false;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                try</span><br><span class="line"></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    var tm = (DateTime) value;</span><br><span class="line"></span><br><span class="line">                    switch (FilterType)</span><br><span class="line"></span><br><span class="line">                    &#123;</span><br><span class="line"></span><br><span class="line">                        case DateFilterType.All:</span><br><span class="line"></span><br><span class="line">                            return true;</span><br><span class="line"></span><br><span class="line">                        case DateFilterType.ThisYear:</span><br><span class="line"></span><br><span class="line">                            return IsMatchYear(tm, DateTime.Today);</span><br><span class="line"></span><br><span class="line">                        case DateFilterType.ThisMonth:</span><br><span class="line"></span><br><span class="line">                            return IsMatchMonth(tm, DateTime.Today);</span><br><span class="line"></span><br><span class="line">                        case DateFilterType.PreYear:</span><br><span class="line"></span><br><span class="line">                            return IsMatchYear(tm, DateTime.Today.AddYears(-1));</span><br><span class="line"></span><br><span class="line">                        case DateFilterType.PreMonth:</span><br><span class="line"></span><br><span class="line">                            return IsMatchMonth(tm, DateTime.Today.AddMonths(-1));</span><br><span class="line"></span><br><span class="line">                        case DateFilterType.Earlier:</span><br><span class="line"></span><br><span class="line">                            return tm.Date &lt;= EndTime.Date;</span><br><span class="line"></span><br><span class="line">                        case DateFilterType.Later:</span><br><span class="line"></span><br><span class="line">                            return tm.Date &gt;= BeginTime.Date;</span><br><span class="line"></span><br><span class="line">                        case DateFilterType.Between:</span><br><span class="line"></span><br><span class="line">                            return IsMatchDate(tm, BeginTime, EndTime);</span><br><span class="line"></span><br><span class="line">                        default:</span><br><span class="line"></span><br><span class="line">                            throw new ArgumentOutOfRangeException();</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                catch (Exception e)</span><br><span class="line"></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    return false;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            public DateFilterType FilterType &#123; get; &#125;</span><br><span class="line"></span><br><span class="line">            public DateTime BeginTime &#123; get; &#125;</span><br><span class="line"></span><br><span class="line">            public DateTime EndTime &#123; get; &#125;</span><br><span class="line"></span><br><span class="line">            #region Datetime</span><br><span class="line"></span><br><span class="line">            private bool IsMatchMonth(DateTime tm, DateTime toMatch)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                return IsMatchDate(tm, GetFirstDayOfMonth(toMatch), GetLastDayOfMonth(toMatch));</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            private bool IsMatchDate(DateTime tm, DateTime beg, DateTime end)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                tm = tm.Date;</span><br><span class="line"></span><br><span class="line">                return tm &lt;= beg &amp;&amp; tm &gt;= end;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            private bool IsMatchYear(DateTime tm, DateTime toMatch)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                return IsMatchDate(tm, GetLastDayOfYear(toMatch), GetFirstDayOfYear(toMatch));</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            private DateTime GetFirstDayOfMonth(DateTime dt)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                var dtFrom = dt;</span><br><span class="line"></span><br><span class="line">                dtFrom = dtFrom.AddDays(-(dtFrom.Day - 1));</span><br><span class="line"></span><br><span class="line">                return dtFrom;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            private DateTime GetLastDayOfMonth(DateTime dt)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                var dtTo = dt;</span><br><span class="line"></span><br><span class="line">                dtTo = dtTo.AddMonths(1);</span><br><span class="line"></span><br><span class="line">                dtTo = dtTo.AddDays(-(dtTo.Day));</span><br><span class="line"></span><br><span class="line">                return dtTo;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            private DateTime GetFirstDayOfYear(DateTime dt)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                var dtFrom = dt;</span><br><span class="line"></span><br><span class="line">                dtFrom = dtFrom.AddMonths(-(dtFrom.Month - 1));</span><br><span class="line"></span><br><span class="line">                return GetFirstDayOfMonth(dtFrom);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            private DateTime GetLastDayOfYear(DateTime dt)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                var dtTo = dt;</span><br><span class="line"></span><br><span class="line">                dtTo = dtTo.AddYears(1);</span><br><span class="line"></span><br><span class="line">                dtTo = dtTo.AddMonths(-dt.Month);</span><br><span class="line"></span><br><span class="line">                return GetLastDayOfMonth(dtTo);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            #endregion</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [TypeConverter(typeof(EnumDescriptionTypeConverter))]</span><br><span class="line"></span><br><span class="line">    public enum DateFilterType</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        [Description(&quot;所有&quot;)]</span><br><span class="line"></span><br><span class="line">        All, // 全部</span><br><span class="line"></span><br><span class="line">        [Description(&quot;今年&quot;)]</span><br><span class="line"></span><br><span class="line">        ThisYear,</span><br><span class="line"></span><br><span class="line">        [Description(&quot;本月&quot;)]</span><br><span class="line"></span><br><span class="line">        ThisMonth,</span><br><span class="line"></span><br><span class="line">        [Description(&quot;去年&quot;)]</span><br><span class="line"></span><br><span class="line">        PreYear,</span><br><span class="line"></span><br><span class="line">        [Description(&quot;上个月&quot;)]</span><br><span class="line"></span><br><span class="line">        PreMonth,</span><br><span class="line"></span><br><span class="line">        [Description(&quot;指定日期以前&quot;)]</span><br><span class="line"></span><br><span class="line">        Earlier,</span><br><span class="line"></span><br><span class="line">        [Description(&quot;指定日期以后&quot;)]</span><br><span class="line"></span><br><span class="line">        Later,</span><br><span class="line"></span><br><span class="line">        [Description(&quot;之间&quot;)]</span><br><span class="line"></span><br><span class="line">        Between,</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="枚举显示"><a href="#枚举显示" class="headerlink" title="枚举显示"></a>枚举显示</h1><p>枚举显示有两个方案，</p>
<ol>
<li> 转换器， 在 xaml 中定义一个转换器资源</li>
<li> 定义一个用来显示的字符串属性，界面绑定这个字符串属性。</li>
</ol>
<h1 id="读取-DataGrid-某一行某一列的值"><a href="#读取-DataGrid-某一行某一列的值" class="headerlink" title="读取 DataGrid 某一行某一列的值"></a>读取 DataGrid 某一行某一列的值</h1><p>从控件 <a target="_blank" rel="noopener" href="https://github.com/tom-englert/DataGridExtensions">DataGridExtensions</a> 中学习到的。拿到的是真实的绑定对象，而不是显示的字符串。一开始用 <code>GetCelllContent()</code>，但对未显示的行无法取到。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class GetCellValueClass : DependencyObject</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line"></span><br><span class="line">    /// Identifies the CellValue dependency property, a private helper property used to evaluate the property path for the list items.</span><br><span class="line"></span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line"></span><br><span class="line">    private static readonly DependencyProperty _cellValueProperty =</span><br><span class="line"></span><br><span class="line">        DependencyProperty.Register(&quot;_cellValue&quot;, typeof(object), typeof(GetCellValueClass));</span><br><span class="line"></span><br><span class="line">    public object GetCellValue(DataGridColumn col, object item)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        var propertyPath = col.SortMemberPath;</span><br><span class="line"></span><br><span class="line">        if (string.IsNullOrEmpty(propertyPath))</span><br><span class="line"></span><br><span class="line">            return null;</span><br><span class="line"></span><br><span class="line">        BindingOperations.SetBinding(this, _cellValueProperty, new Binding(propertyPath) &#123; Source = item &#125;);</span><br><span class="line"></span><br><span class="line">        var propertyValue = GetValue(_cellValueProperty);</span><br><span class="line"></span><br><span class="line">        BindingOperations.ClearBinding(this, _cellValueProperty);</span><br><span class="line"></span><br><span class="line">        return propertyValue;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用方法：<br><code>new GetCellValueClass().GetCellValue(col, item);</code></p>
<div style="display: none;">@%28blog%29%5Bposts%2C%u968F%u7B14%2C.net%2Cwpf%5D%0A%23%20%u9879%u76EE%u603B%u7ED3-wpf%20%u4F7F%u7528%u7ECF%u9A8C%0A%0A%u521A%u505A%u5B8C%u4E00%u4E2A%u4F7F%u7528%u4E86wpf%u6280%u672F%u7684%u9879%u76EE%uFF0C%u603B%u7ED3%u4E00%u4E0B%u9879%u76EE%u4E2D%u4F7F%u7528%u5230%u7684%u4E00%u4E9B%u4EE5%u524D%u6CA1%u7528%u8FC7%u7684%u6280%u672F%0A%0A%23%20DataGrid%20%u8FC7%u6EE4%0A%0Anuget%u5E93%20%5BDataGridExtensions%5D%28https%3A//github.com/tom-englert/DataGridExtensions%29%20%u63D0%u4F9B%u4E86%u81EA%u5B9A%u4E49%u6269%u5C55DataGrid%u5217%u8FC7%u6EE4%u7684%u65B9%u6CD5%0A%0A%u6839%u636E%u4F8B%u5B50%u4E2D%u7684MultipleChoiceFilter%20%u53EF%u4EE5%u81EA%u5B9A%u4E49%u4EFB%u610F%u8FC7%u6EE4%u3002%0A%0A%u6211%u7684%u65E5%u671F%u8FC7%u6EE4%u63A7%u4EF6%uFF1A%0A%60%60%60cs%20%0A//%20xaml%3A%0A%3CControl%20x%3AClass%3D%22readLog.Views.Filters.DateFilter%22%0A%20%20%20%20%20%20%20%20%20x%3AName%3D%22Control%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3D%22http%3A//schemas.microsoft.com/winfx/2006/xaml/presentation%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ax%3D%22http%3A//schemas.microsoft.com/winfx/2006/xaml%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Amc%3D%22http%3A//schemas.openxmlformats.org/markup-compatibility/2006%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ad%3D%22http%3A//schemas.microsoft.com/expression/blend/2008%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Alocal%3D%22clr-namespace%3AreadLog.Views.Filters%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Adgx%3D%22urn%3Atom-englert.de/DataGridExtensions%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Asys%3D%22clr-namespace%3ASystem%3Bassembly%3Dmscorlib%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20mc%3AIgnorable%3D%22d%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20d%3ADesignHeight%3D%2230%22%20d%3ADesignWidth%3D%2230%22%0A%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%3CControl.Resources%3E%0A%20%20%20%20%20%20%20%20%3CObjectDataProvider%20x%3AKey%3D%22dateTypeEnum%22%20MethodName%3D%22GetValues%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ObjectType%3D%22%7Bx%3AType%20sys%3AEnum%7D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CObjectDataProvider.MethodParameters%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cx%3AType%20TypeName%3D%22local%3ADateFilterType%22%3E%3C/x%3AType%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/ObjectDataProvider.MethodParameters%3E%0A%20%20%20%20%20%20%20%20%3C/ObjectDataProvider%3E%0A%20%20%20%20%3C/Control.Resources%3E%0A%20%20%20%20%3CControl.Template%3E%0A%20%20%20%20%20%20%20%20%3CControlTemplate%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CGrid%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CToggleButton%20x%3AName%3D%22ToggleButton%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CStackPanel%20Orientation%3D%22Horizontal%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CTextBlock%20x%3AName%3D%22IsFilterActiveMarker%22%20Text%3D%22.%22%20Margin%3D%220%2C0%2C-4%2C0%22%20Foreground%3D%22%7BBinding%20ElementName%3DFilterSymbol%2C%20Path%3DForeground%7D%22%20FontWeight%3D%22Bold%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CControl%20x%3AName%3D%22FilterSymbol%22%20Style%3D%22%7BDynamicResource%20%7Bx%3AStatic%20dgx%3ADataGridFilter.IconStyleKey%7D%7D%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/StackPanel%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/ToggleButton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CPopup%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DataContext%3D%22%7BBinding%20ElementName%3DControl%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3AName%3D%22Popup%22%20IsOpen%3D%22%7BBinding%20Path%3DIsChecked%2C%20ElementName%3DToggleButton%2C%20Mode%3DTwoWay%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AllowsTransparency%3D%22True%22%20StaysOpen%3D%22False%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CStackPanel%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CComboBox%20x%3AName%3D%22typeBox%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ItemsSource%3D%22%7BBinding%20Source%3D%7BStaticResource%20dateTypeEnum%7D%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20SelectedItem%3D%22%7BBinding%20Path%3DFilterType%7D%22/%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CDatePicker%20x%3AName%3D%22begTm%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Visibility%3D%22%7BBinding%20Path%3DBeginTimeVisible%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20SelectedDate%3D%22%7BBinding%20Path%3DBeginTime%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CDatePicker%20x%3AName%3D%22endTm%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Visibility%3D%22%7BBinding%20Path%3DEndTimeVisible%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20SelectedDate%3D%22%7BBinding%20Path%3DEndTime%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/StackPanel%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/Popup%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/Grid%3E%0A%20%20%20%20%20%20%20%20%3C/ControlTemplate%3E%0A%20%20%20%20%3C/Control.Template%3E%0A%3C/Control%3E%0A%0A%60%60%60%0A%0A%60%60%60cs%0A//%20%u4EA4%u4E92%0A%20%20%20%20///%20%3Csummary%3E%0A%20%20%20%20///%20DateFilter.xaml%20%u7684%u4EA4%u4E92%u903B%u8F91%0A%20%20%20%20///%20%3C/summary%3E%0A%20%20%20%20public%20partial%20class%20DateFilter%20%3A%20Control%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20public%20DateFilter%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20InitializeComponent%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%23region%20dependency%20property%0A%0A%20%20%20%20%20%20%20%20public%20static%20readonly%20DependencyProperty%20FilterTypeProperty%20%3D%20DependencyProperty.Register%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%22FilterType%22%2C%20typeof%28DateFilterType%29%2C%20typeof%28DateFilter%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20new%20FrameworkPropertyMetadata%28default%28DateFilterType%29%2C%20FrameworkPropertyMetadataOptions.BindsTwoWayByDefault%2C%20%28s%2C%20e%29%20%3D%3E%20%28%28DateFilter%29s%29.FilterTypeChange%28%29%29%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20private%20void%20FilterTypeChange%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%u53EF%u89C1%u6027%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%20%28FilterType%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.All%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.ThisYear%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.ThisMonth%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.PreYear%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.PreMonth%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BeginTimeVisible%20%3D%20Visibility.Collapsed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20EndTimeVisible%20%3D%20Visibility.Collapsed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.Earlier%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BeginTimeVisible%20%3D%20Visibility.Collapsed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20EndTimeVisible%20%3D%20Visibility.Visible%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.Later%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BeginTimeVisible%20%3D%20Visibility.Visible%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20EndTimeVisible%20%3D%20Visibility.Collapsed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.Between%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BeginTimeVisible%20%3D%20Visibility.Visible%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20EndTimeVisible%20%3D%20Visibility.Visible%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20ArgumentOutOfRangeException%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20RangeChanged%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20private%20void%20RangeChanged%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Filter%20%3D%20new%20ContentFilter%28FilterType%2C%20BeginTime%2C%20EndTime%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20public%20DateFilterType%20FilterType%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20get%20%3D%3E%20%28DateFilterType%29%20GetValue%28FilterTypeProperty%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20set%20%3D%3E%20SetValue%28FilterTypeProperty%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20public%20static%20readonly%20DependencyProperty%20FilterProperty%20%3D%20DependencyProperty.Register%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Filter%22%2C%20typeof%28ContentFilter%29%2C%20typeof%28DateFilter%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20new%20FrameworkPropertyMetadata%28default%28ContentFilter%29%2C%20FrameworkPropertyMetadataOptions.BindsTwoWayByDefault%2C%20%28s%2C%20e%29%20%3D%3E%20%28%28DateFilter%29s%29.FilterChanged%28%29%29%29%3B%0A%0A%20%20%20%20%20%20%20%20public%20ContentFilter%20Filter%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20get%20%3D%3E%20%28ContentFilter%29%20GetValue%28FilterProperty%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20set%20%3D%3E%20SetValue%28FilterProperty%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20private%20void%20FilterChanged%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20filter%20%3D%20Filter%20as%20ContentFilter%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28null%20%3D%3D%20filter%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20FilterType%20%3D%20filter.FilterType%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20BeginTime%20%3D%20filter.BeginTime%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20EndTime%20%3D%20filter.EndTime%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20public%20static%20readonly%20DependencyProperty%20BeginTimeProperty%20%3D%20DependencyProperty.Register%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BeginTime%22%2C%20typeof%28DateTime%29%2C%20typeof%28DateFilter%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20new%20FrameworkPropertyMetadata%28DateTime.Today%2C%20FrameworkPropertyMetadataOptions.BindsTwoWayByDefault%2C%28s%2C%20e%29%20%3D%3E%20%28%28DateFilter%29s%29.RangeChanged%28%29%29%29%3B%0A%0A%20%20%20%20%20%20%20%20public%20DateTime%20BeginTime%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20get%20%3D%3E%20%28DateTime%29%20GetValue%28BeginTimeProperty%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20set%20%3D%3E%20SetValue%28BeginTimeProperty%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20public%20static%20readonly%20DependencyProperty%20EndTimeProperty%20%3D%20DependencyProperty.Register%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%22EndTime%22%2C%20typeof%28DateTime%29%2C%20typeof%28DateFilter%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20new%20FrameworkPropertyMetadata%28DateTime.Today%2C%20FrameworkPropertyMetadataOptions.BindsTwoWayByDefault%2C%28s%2C%20e%29%20%3D%3E%20%28%28DateFilter%29s%29.RangeChanged%28%29%29%29%3B%0A%0A%20%20%20%20%20%20%20%20public%20DateTime%20EndTime%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20get%20%3D%3E%20%28DateTime%29%20GetValue%28EndTimeProperty%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20set%20%3D%3E%20SetValue%28EndTimeProperty%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20public%20static%20readonly%20DependencyProperty%20PropertyTypeProperty%20%3D%20DependencyProperty.Register%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%22BeginTimeVisible%22%2C%20typeof%28Visibility%29%2C%20typeof%28DateFilter%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20new%20FrameworkPropertyMetadata%28Visibility.Collapsed%2C%20FrameworkPropertyMetadataOptions.BindsTwoWayByDefault%2C%20%28s%2C%20e%29%20%3D%3E%20%28%28DateFilter%29s%29.RangeChanged%28%29%29%29%3B%0A%0A%20%20%20%20%20%20%20%20public%20Visibility%20BeginTimeVisible%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20get%20%3D%3E%20%28Visibility%29%20GetValue%28PropertyTypeProperty%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20set%20%3D%3E%20SetValue%28PropertyTypeProperty%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20public%20static%20readonly%20DependencyProperty%20EndTimeVisibleProperty%20%3D%20DependencyProperty.Register%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%22EndTimeVisible%22%2C%20typeof%28Visibility%29%2C%20typeof%28DateFilter%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20new%20FrameworkPropertyMetadata%28Visibility.Collapsed%2C%20FrameworkPropertyMetadataOptions.BindsTwoWayByDefault%2C%20%28s%2C%20e%29%20%3D%3E%20%28%28DateFilter%29s%29.RangeChanged%28%29%29%29%3B%0A%0A%20%20%20%20%20%20%20%20public%20Visibility%20EndTimeVisible%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20get%20%3D%3E%20%28Visibility%29%20GetValue%28EndTimeVisibleProperty%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20set%20%3D%3E%20SetValue%28EndTimeVisibleProperty%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%23endregion%0A%0A%20%20%20%20%20%20%20%20public%20class%20ContentFilter%20%3A%20IContentFilter%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20public%20ContentFilter%28DateFilterType%20type%2C%20DateTime%20beg%2C%20DateTime%20end%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20FilterType%20%3D%20type%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BeginTime%20%3D%20beg%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20EndTime%20%3D%20end%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20public%20bool%20IsMatch%28object%20value%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28null%20%3D%3D%20value%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20tm%20%3D%20%28DateTime%29%20value%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20switch%20%28FilterType%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.All%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.ThisYear%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20IsMatchYear%28tm%2C%20DateTime.Today%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.ThisMonth%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20IsMatchMonth%28tm%2C%20DateTime.Today%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.PreYear%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20IsMatchYear%28tm%2C%20DateTime.Today.AddYears%28-1%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.PreMonth%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20IsMatchMonth%28tm%2C%20DateTime.Today.AddMonths%28-1%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.Earlier%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20tm.Date%20%3C%3D%20EndTime.Date%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.Later%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20tm.Date%20%3E%3D%20BeginTime.Date%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20DateFilterType.Between%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20IsMatchDate%28tm%2C%20BeginTime%2C%20EndTime%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20ArgumentOutOfRangeException%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20catch%20%28Exception%20e%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20public%20DateFilterType%20FilterType%20%7B%20get%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20public%20DateTime%20BeginTime%20%7B%20get%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20public%20DateTime%20EndTime%20%7B%20get%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23region%20Datetime%0A%20%20%20%20%20%20%20%20%20%20%20%20private%20bool%20IsMatchMonth%28DateTime%20tm%2C%20DateTime%20toMatch%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20IsMatchDate%28tm%2C%20GetFirstDayOfMonth%28toMatch%29%2C%20GetLastDayOfMonth%28toMatch%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20private%20bool%20IsMatchDate%28DateTime%20tm%2C%20DateTime%20beg%2C%20DateTime%20end%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tm%20%3D%20tm.Date%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20tm%20%3C%3D%20beg%20%26%26%20tm%20%3E%3D%20end%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20private%20bool%20IsMatchYear%28DateTime%20tm%2C%20DateTime%20toMatch%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20IsMatchDate%28tm%2C%20GetLastDayOfYear%28toMatch%29%2C%20GetFirstDayOfYear%28toMatch%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20private%20DateTime%20GetFirstDayOfMonth%28DateTime%20dt%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20dtFrom%20%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dtFrom%20%3D%20dtFrom.AddDays%28-%28dtFrom.Day%20-%201%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20dtFrom%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20private%20DateTime%20GetLastDayOfMonth%28DateTime%20dt%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20dtTo%20%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dtTo%20%3D%20dtTo.AddMonths%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dtTo%20%3D%20dtTo.AddDays%28-%28dtTo.Day%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20dtTo%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20private%20DateTime%20GetFirstDayOfYear%28DateTime%20dt%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20dtFrom%20%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dtFrom%20%3D%20dtFrom.AddMonths%28-%28dtFrom.Month%20-%201%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20GetFirstDayOfMonth%28dtFrom%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20private%20DateTime%20GetLastDayOfYear%28DateTime%20dt%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20dtTo%20%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dtTo%20%3D%20dtTo.AddYears%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dtTo%20%3D%20dtTo.AddMonths%28-dt.Month%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20GetLastDayOfMonth%28dtTo%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23endregion%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%5BTypeConverter%28typeof%28EnumDescriptionTypeConverter%29%29%5D%0A%20%20%20%20public%20enum%20DateFilterType%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%5BDescription%28%22%u6240%u6709%22%29%5D%0A%20%20%20%20%20%20%20%20All%2C%20//%20%u5168%u90E8%0A%20%20%20%20%20%20%20%20%5BDescription%28%22%u4ECA%u5E74%22%29%5D%0A%20%20%20%20%20%20%20%20ThisYear%2C%0A%20%20%20%20%20%20%20%20%5BDescription%28%22%u672C%u6708%22%29%5D%0A%20%20%20%20%20%20%20%20ThisMonth%2C%0A%20%20%20%20%20%20%20%20%5BDescription%28%22%u53BB%u5E74%22%29%5D%0A%20%20%20%20%20%20%20%20PreYear%2C%0A%20%20%20%20%20%20%20%20%5BDescription%28%22%u4E0A%u4E2A%u6708%22%29%5D%0A%20%20%20%20%20%20%20%20PreMonth%2C%0A%20%20%20%20%20%20%20%20%5BDescription%28%22%u6307%u5B9A%u65E5%u671F%u4EE5%u524D%22%29%5D%0A%20%20%20%20%20%20%20%20Earlier%2C%0A%20%20%20%20%20%20%20%20%5BDescription%28%22%u6307%u5B9A%u65E5%u671F%u4EE5%u540E%22%29%5D%0A%20%20%20%20%20%20%20%20Later%2C%0A%20%20%20%20%20%20%20%20%5BDescription%28%22%u4E4B%u95F4%22%29%5D%0A%20%20%20%20%20%20%20%20Between%2C%0A%0A%0A%20%20%20%20%7D%0A%0A%60%60%60%0A%0A%0A%23%20%u679A%u4E3E%u663E%u793A%0A%0A%u679A%u4E3E%u663E%u793A%u6709%u4E24%u4E2A%u65B9%u6848%uFF0C%0A1.%20%u8F6C%u6362%u5668%uFF0C%20%u5728xaml%u4E2D%u5B9A%u4E49%u4E00%u4E2A%u8F6C%u6362%u5668%u8D44%u6E90%0A2.%20%u5B9A%u4E49%u4E00%u4E2A%u7528%u6765%u663E%u793A%u7684%u5B57%u7B26%u4E32%u5C5E%u6027%uFF0C%u754C%u9762%u7ED1%u5B9A%u8FD9%u4E2A%u5B57%u7B26%u4E32%u5C5E%u6027%u3002%0A%0A%23%20%u8BFB%u53D6DataGrid%u67D0%u4E00%u884C%u67D0%u4E00%u5217%u7684%u503C%0A%0A%u4ECE%u63A7%u4EF6%20%5BDataGridExtensions%5D%28https%3A//github.com/tom-englert/DataGridExtensions%29%20%20%u4E2D%u5B66%u4E60%u5230%u7684%u3002%u62FF%u5230%u7684%u662F%u771F%u5B9E%u7684%u7ED1%u5B9A%u5BF9%u8C61%uFF0C%u800C%u4E0D%u662F%u663E%u793A%u7684%u5B57%u7B26%u4E32%u3002%u4E00%u5F00%u59CB%u7528%20%60GetCelllContent%28%29%60%uFF0C%u4F46%u5BF9%u672A%u663E%u793A%u7684%u884C%u65E0%u6CD5%u53D6%u5230%u3002%0A%0A%60%60%60cs%0A%20%20%20%20%20%20%20%20class%20GetCellValueClass%20%3A%20DependencyObject%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20///%20%3Csummary%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20///%20Identifies%20the%20CellValue%20dependency%20property%2C%20a%20private%20helper%20property%20used%20to%20evaluate%20the%20property%20path%20for%20the%20list%20items.%0A%20%20%20%20%20%20%20%20%20%20%20%20///%20%3C/summary%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20private%20static%20readonly%20DependencyProperty%20_cellValueProperty%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DependencyProperty.Register%28%22_cellValue%22%2C%20typeof%28object%29%2C%20typeof%28GetCellValueClass%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20public%20object%20GetCellValue%28DataGridColumn%20col%2C%20object%20item%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20propertyPath%20%3D%20col.SortMemberPath%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28string.IsNullOrEmpty%28propertyPath%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BindingOperations.SetBinding%28this%2C%20_cellValueProperty%2C%20new%20Binding%28propertyPath%29%20%7B%20Source%20%3D%20item%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20propertyValue%20%3D%20GetValue%28_cellValueProperty%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BindingOperations.ClearBinding%28this%2C%20_cellValueProperty%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20propertyValue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%60%60%60%0A%0A%u4F7F%u7528%u65B9%u6CD5%uFF1A%0A%60%60%60cs%0Anew%20GetCellValueClass%28%29.GetCellValue%28col%2C%20item%29%3B%0A%60%60%60</div>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag"># 随笔</a>
              <a href="/tags/wpf/" rel="tag"># wpf</a>
              <a href="/tags/net/" rel="tag"># .net</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/03/25/9a0d4abaefcd4df7811e96f3d4cdd56a/" rel="prev" title="程序语言基础知识">
      <i class="fa fa-chevron-left"></i> 程序语言基础知识
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/03/26/f50b3d5c2f9e4fd2a3f70822381e9aa3/" rel="next" title="数据结构">
      数据结构 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93-wpf-%E4%BD%BF%E7%94%A8%E7%BB%8F%E9%AA%8C"><span class="nav-number">1.</span> <span class="nav-text">项目总结-wpf 使用经验</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DataGrid-%E8%BF%87%E6%BB%A4"><span class="nav-number">2.</span> <span class="nav-text">DataGrid 过滤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE%E6%98%BE%E7%A4%BA"><span class="nav-number">3.</span> <span class="nav-text">枚举显示</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96-DataGrid-%E6%9F%90%E4%B8%80%E8%A1%8C%E6%9F%90%E4%B8%80%E5%88%97%E7%9A%84%E5%80%BC"><span class="nav-number">4.</span> <span class="nav-text">读取 DataGrid 某一行某一列的值</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">yhl</p>
  <div class="site-description" itemprop="description">记录作者的一些历程，很杂乱，涉及很广...我也不知道我会什么</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">沪ICP备19006212号-1 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yhl</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '90ad172ea65d425400d8',
      clientSecret: 'b6b9739426a1c602e3b41e513344a8ba7429e597',
      repo        : 'ytianxia6.github.io',
      owner       : 'ytianxia6',
      admin       : ['ytianxia6'],
      id          : '74f96ed12d4b421b2c7c7886818841e0',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
