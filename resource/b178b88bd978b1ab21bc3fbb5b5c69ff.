---
title: 2019-4-8 Redmine 开发环境搭建
tags: posts, 
grammar_cjkRuby: true
---


# Redmine 开发环境搭建

# 1. 系统

win10 系统

# 2. 下载安装redmine

使用 [bitnami redmine](https://bitnami.com/stack/redmine) 选择windows版本直接下载，运行exe进行本地安装。
![enter description here](./images/1554709086384.png)
![enter description here](./images/1554709115330.png)
![enter description here](./images/1554709131749.png)
安装：
![enter description here](./images/1554709146630.png)
![enter description here](./images/1554709180645.png)
![enter description here](./images/1554709191141.png)
![enter description here](./images/1554709206259.png)
![enter description here](./images/1554709221395.png)

![enter description here](./images/1554709234477.png)
填入用户名密码
![enter description here](./images/1554709280566.png)
![enter description here](./images/1554709332028.png)
因为是搭建开发环境，直接使用Gmail

![enter description here](./images/1554709355316.png)
![enter description here](./images/1554709380930.png)
![enter description here](./images/1554709390260.png)
![enter description here](./images/1554709400027.png)
等待安装完成。

![enter description here](./images/1554710189555.png)

安装完成后启动redmine,并创建几个项目

![enter description here](./images/1554710489527.png)

# 3. 创建插件

redmine安装目录运行 use_redmine.bat

创建插件参照 [官网](https://www.redmine.org/projects/redmine/wiki/Plugin_Tutorial) 

``` bash
cd apps/redmine/htdocs
bundle exec ruby bin/rails generate redmine_plugin projects-exporter
```

在 plugins目录下会生成插件目录 projects-exporter
编辑 init.rb

``` ruby
Redmine::Plugin.register :projects_exporter do
  name 'Projects Exporter plugin'
  author 'yhl'
  description '项目导出列表'
  version '0.0.1'
  url 'http://example.com/path/to/plugin'
  author_url 'http://example.com/about'
end
```
重启 redmine 后，可以在项目列表中看到该插件。

![enter description here](./images/1554711126632.png)

## 4. 添加模型

```bash
bundle exec ruby bin/rails generate redmine_plugin_model projects_exporter projects_exporter 
```

## 5. 添加控制器

``` bash
bundle exec ruby bin/rails generate redmine_plugin_controller <plugin_name> <controller_name> [<actions>]
```

在这里是 
``` bash
bundle exec ruby bin/rails generate redmine_plugin_controller projects_exporter projects_exporter index
```

> 添加控制器时，会同时添加视图



